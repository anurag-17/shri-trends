(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{7997:function(e,s,t){Promise.resolve().then(t.bind(t,3040))},7907:function(e,s,t){"use strict";var r=t(5313);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},3040:function(e,s,t){"use strict";t.r(s);var r=t(3827);t(4090);var n=t(5121);s.default=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.Z,{})})},5121:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var r=t(3827),n=t(4090),a=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",dataSlot:"icon",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18"})})}),o=t(678),l=t(7908),i=t(7907),c=t(6123),d=t(8),u=()=>{let e=(0,i.useRouter)(),[s,t]=(0,n.useState)({oldPassword:"",newPassword:""}),[u,x]=(0,n.useState)(""),[p,m]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[w,f]=(0,n.useState)(!1),[j,v]=(0,n.useState)(""),N=JSON.parse(sessionStorage.getItem("sessionToken")),b=e=>{t({...s,[e.target.name]:e.target.value})},k=async t=>{if(t.preventDefault(),s.oldPassword===s.newPassword)v("Old password and new password can't be same ");else if(s.newPassword!==u)v("New password and confirm password should match");else try{f(!0);let t=await l.Z.post("/api/auth/changepasswordAdmin",s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}});200===t.status?(c.Am.success("Password change successful!"),f(!1),v(""),sessionStorage.removeItem("sessionToken"),e.push("/")):(c.Am.error((null==t?void 0:t.data)||"Invalid credentials"),f(!1),v(""))}catch(e){console.error("Error during login:",e),c.Am.error("Failed please try again!"),v(""),f(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex items-center justify-center lg:min-h-screen  ",children:(0,r.jsx)("div",{className:"md:px-[50px] w-full mx-auto",children:(0,r.jsxs)("div",{className:"relative flex flex-col 2xl:gap-x-20 xl:gap-x-10 gap-x-7 min-h-screen justify-center lg:shadow-none  items-center lg:flex-row space-y-8 md:space-y-0 w-[100%] px-[10px]bg-white lg:px-[40px] py-[20px] md:py-[40px] ",children:[(0,r.jsxs)("div",{className:"absolute right-10 top-6 bg-[#e5f0fa] hover:bg-[#c5dcf0] px-3 py-1 rounded cursor-pointer flex items-center gap-3",onClick:()=>e.push(-1),children:[(0,r.jsx)(a,{}),"Go back"]}),(0,r.jsx)("div",{className:"w-[100%] lg:w-[60%] xl:w-[50%]",children:(0,r.jsx)("form",{action:"",className:"",onSubmit:k,children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 justify-center p-8 lg:p-14 md:max-w-[80%] lg:w-full lg:max-w-[100%] mx-auto ",children:[(0,r.jsx)("div",{className:"text-left ",children:(0,r.jsx)("p",{className:"mb-2 2xl:text-[35px] md:text-[30px] text-[24px] leading-[38px] md:font-bold font-medium whitespace-nowrap",children:"Change password"})}),(0,r.jsxs)("div",{className:"relative flex justify-center items-center mt-4",children:[(0,r.jsx)("input",{type:p?"text":"password",name:"oldPassword",placeholder:"Old password",className:"log_input w-full mt-2 custom-input",onChange:b,minLength:8,required:!0}),(0,r.jsx)("div",{className:"absolute right-[10px] cursor-pointer",onClick:()=>m(!p),children:(0,r.jsx)(o.Z,{})})]}),(0,r.jsxs)("div",{className:"relative flex justify-center items-center",children:[(0,r.jsx)("input",{type:h?"text":"password",name:"newPassword",placeholder:"New password",className:"log_input w-full mt-2 custom-input",onChange:b,minLength:8,required:!0}),(0,r.jsx)("div",{className:"absolute right-[10px] cursor-pointer",onClick:()=>g(!h),children:(0,r.jsx)(o.Z,{})})]}),(0,r.jsx)("div",{className:"relative flex justify-center items-center",children:(0,r.jsx)("input",{type:"password",name:"cnfmPassword",placeholder:"Confirm new password ",className:"log_input w-full mt-2 custom-input",onChange:e=>x(e.target.value),minLength:8,required:!0})}),j&&(0,r.jsx)("p",{className:"text-[red] mt-2 px-2 text-[14px] lg:text-[13px] font-normal bg-[#f0e3e3] py-1    rounded-[4px]",children:j}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{type:"submit",disabled:w,className:"w-full bg-[#1f2432] font-medium text-white p-2 rounded-lg  hover:bg-white hover:border hover:border-gray-300 h-[50px] log-btn",children:w?"Loading..":"Change password"})})]})})}),(0,r.jsx)(d.Z,{})]})})})})})}},8:function(e,s,t){"use strict";var r=t(3827),n=t(703);t(4090),s.Z=()=>(0,r.jsx)("div",{className:"block lg:w-[50%] px-[10px] lg:px-0",children:(0,r.jsx)(n.default,{src:"/dealer/dealer_login.svg",alt:"img",height:500,width:600,className:"mx-auto"})})},678:function(e,s,t){"use strict";var r=t(3827);t(4090),s.Z=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})}},function(e){e.O(0,[594,971,69,744],function(){return e(e.s=7997)}),_N_E=e.O()}]);