(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{7570:function(e,l,t){Promise.resolve().then(t.bind(t,7114))},7907:function(e,l,t){"use strict";var s=t(5313);t.o(s,"useRouter")&&t.d(l,{useRouter:function(){return s.useRouter}})},7114:function(e,l,t){"use strict";t.r(l);var s=t(3827);t(4090);var a=t(4281);l.default=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.default,{})})},4281:function(e,l,t){"use strict";t.r(l);var s=t(3827),a=t(4090),r=t(7907),n=t(8792),i=t(828),o=t(6123),d=t(7908),c=t(8),u=t(7898);l.default=()=>{let e=(0,i.I0)(),l=(0,r.useRouter)(),[t,x]=(0,a.useState)({email:"",password:""}),[m,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),g=e=>{x({...t,[e.target.name]:e.target.value})},v=async s=>{var a,r,n,i,c;s.preventDefault(),f(!0);try{let s=await d.Z.post("/api/auth/login",t,{headers:{"Content-Type":"application/json"}});(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.success)?(o.Am.success("Login successfully!"),e((0,u.pj)(null==s?void 0:null===(r=s.data)||void 0===r?void 0:r.token)),e((0,u.Ly)(null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.user)),f(!1),l.push("/dealer")):(o.Am.error("Login failed please try later!"),e((0,u.ts)()),e((0,u.Yq)()),f(!1))}catch(l){console.error("Error during login:",l),o.Am.error((null==l?void 0:null===(c=l.response)||void 0===c?void 0:null===(i=c.data)||void 0===i?void 0:i.error)||"Server error !"),e((0,u.ts)()),e((0,u.Yq)()),f(!1)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex items-center justify-center lg:min-h-screen  ",children:(0,s.jsx)("div",{className:"md:px-[50px] w-full mx-auto",children:(0,s.jsxs)("div",{className:"relative flex flex-col 2xl:gap-x-20 xl:gap-x-10 gap-x-7 min-h-screen justify-center lg:shadow-none  items-center lg:flex-row space-y-8 md:space-y-0 w-[100%] px-[10px]bg-white lg:px-[40px] py-[20px] md:py-[40px] ",children:[(0,s.jsx)("div",{className:"w-[100%] lg:w-[60%] xl:w-[50%]",children:(0,s.jsx)("form",{action:"",className:"",onSubmit:v,children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 justify-center p-8 lg:p-14 md:max-w-[80%] lg:w-full lg:max-w-[100%] mx-auto ",children:[(0,s.jsxs)("div",{className:"text-left ",children:[(0,s.jsx)("p",{className:"mb-2 2xl:text-[40px] md:text-[35px] text-[30px] leading-[38px] font-bold",children:"Welcome"}),(0,s.jsx)("p",{className:"2xl:text-[18px] md:text-[16px] text-[15px] font-[400] leading-[26px] mb-4 text-[#494949]",children:"Welcome back! Please enter your details"})]}),(0,s.jsx)("div",{className:"md:py-2",children:(0,s.jsx)("input",{type:"email",name:"email",placeholder:"Email address",className:"log_input w-full mt-2 custom-input",onChange:g,pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",title:"enter valid email ex. abc@gmail.com",required:!0})}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("input",{type:m?"text":"password",name:"password",placeholder:"Password",className:"log_input w-full mt-2 custom-input",onChange:g,minLength:8,required:!0}),(0,s.jsxs)("div",{className:"flex items-center mt-4 px-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",id:"showPassword",checked:m,onChange:()=>p(!m),className:"mr-2"}),(0,s.jsx)("label",{htmlFor:"showPassword",className:"log_input-label",children:"Show Password"})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("button",{type:"submit",disabled:h,className:" w-full bg-[#1f2432] font-medium text-white p-2 rounded-lg  hover:bg-white hover:border hover:border-gray-300 h-[50px] log-btn",children:h?"Loading..":"Login"}),(0,s.jsx)(n.default,{href:"/dealer/forgot-password",children:(0,s.jsx)("div",{className:"text-[16px] font-medium underline text-center py-3 cursor-password",children:"Forgot password"})})]})]})})}),(0,s.jsx)(c.Z,{})]})})})})}},8:function(e,l,t){"use strict";var s=t(3827),a=t(703);t(4090),l.Z=()=>(0,s.jsx)("div",{className:"block lg:w-[50%] px-[10px] lg:px-0",children:(0,s.jsx)(a.default,{src:"/dealer/dealer_login.svg",alt:"img",height:500,width:600,className:"mx-auto"})})},7898:function(e,l,t){"use strict";t.d(l,{Ly:function(){return n},Yq:function(){return i},pj:function(){return a},ts:function(){return r}});let s=(0,t(8166).oM)({name:"dealer",initialState:{token:null,dealerDetails:null},reducers:{setDealerToken:(e,l)=>{e.token=l.payload,console.log("State after setDealerToken:",e)},removeDealerToken:(e,l)=>{e.token=null},dealerDetails:(e,l)=>{e.dealerDetails=l.payload},rem_DealerDetails:(e,l)=>{e.dealerDetails=null}}}),{setDealerToken:a,removeDealerToken:r,dealerDetails:n,rem_DealerDetails:i}=s.actions;l.ZP=s.reducer}},function(e){e.O(0,[594,792,135,971,69,744],function(){return e(e.s=7570)}),_N_E=e.O()}]);