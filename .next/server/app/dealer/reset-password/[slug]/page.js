(()=>{var e={};e.id=869,e.ids=[869],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(482),a=r(9108),n=r(2563),o=r.n(n),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["dealer",{children:["reset-password",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1550)),"/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/app/dealer/reset-password/[slug]/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5460)),"/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/app/dealer/reset-password/[slug]/page.js"],u="/dealer/reset-password/[slug]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dealer/reset-password/[slug]/page",pathname:"/dealer/reset-password/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5812:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},856:(e,t,r)=>{Promise.resolve().then(r.bind(r,7944))},2894:(e,t,r)=>{Promise.resolve().then(r.bind(r,2498))},8428:(e,t,r)=>{"use strict";var s=r(4767);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7944:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5344);r(3729);var a=r(5895);let n=()=>s.jsx(s.Fragment,{children:s.jsx(a.Z,{})})},5895:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(5344),a=r(3729);let n=()=>s.jsx(s.Fragment,{children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",dataSlot:"icon",className:"w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18"})})});var o=r(6531),i=r(3608),l=r(8428),d=r(9697),c=r(9712);let u=()=>{let e=(0,l.useRouter)(),[t,r]=(0,a.useState)({oldPassword:"",newPassword:""}),[u,p]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(""),y=JSON.parse(sessionStorage.getItem("sessionToken")),b=e=>{r({...t,[e.target.name]:e.target.value})},P=async r=>{if(r.preventDefault(),t.oldPassword===t.newPassword)v("Old password and new password can't be same ");else if(t.newPassword!==u)v("New password and confirm password should match");else try{j(!0);let r=await i.Z.post("/api/auth/changepasswordAdmin",t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});200===r.status?(d.Am.success("Password change successful!"),j(!1),v(""),sessionStorage.removeItem("sessionToken"),e.push("/")):(d.Am.error(r?.data||"Invalid credentials"),j(!1),v(""))}catch(e){console.error("Error during login:",e),d.Am.error("Failed please try again!"),v(""),j(!1)}};return s.jsx(s.Fragment,{children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex items-center justify-center lg:min-h-screen  ",children:s.jsx("div",{className:"md:px-[50px] w-full mx-auto",children:(0,s.jsxs)("div",{className:"relative flex flex-col 2xl:gap-x-20 xl:gap-x-10 gap-x-7 min-h-screen justify-center lg:shadow-none  items-center lg:flex-row space-y-8 md:space-y-0 w-[100%] px-[10px]bg-white lg:px-[40px] py-[20px] md:py-[40px] ",children:[(0,s.jsxs)("div",{className:"absolute right-10 top-6 bg-[#e5f0fa] hover:bg-[#c5dcf0] px-3 py-1 rounded cursor-pointer flex items-center gap-3",onClick:()=>e.push(-1),children:[s.jsx(n,{}),"Go back"]}),s.jsx("div",{className:"w-[100%] lg:w-[60%] xl:w-[50%]",children:s.jsx("form",{action:"",className:"",onSubmit:P,children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 justify-center p-8 lg:p-14 md:max-w-[80%] lg:w-full lg:max-w-[100%] mx-auto ",children:[s.jsx("div",{className:"text-left ",children:s.jsx("p",{className:"mb-2 2xl:text-[35px] md:text-[30px] text-[24px] leading-[38px] md:font-bold font-medium whitespace-nowrap",children:"Change password"})}),(0,s.jsxs)("div",{className:"relative flex justify-center items-center mt-4",children:[s.jsx("input",{type:x?"text":"password",name:"oldPassword",placeholder:"Old password",className:"log_input w-full mt-2 custom-input",onChange:b,minLength:8,required:!0}),s.jsx("div",{className:"absolute right-[10px] cursor-pointer",onClick:()=>m(!x),children:s.jsx(o.Z,{})})]}),(0,s.jsxs)("div",{className:"relative flex justify-center items-center",children:[s.jsx("input",{type:h?"text":"password",name:"newPassword",placeholder:"New password",className:"log_input w-full mt-2 custom-input",onChange:b,minLength:8,required:!0}),s.jsx("div",{className:"absolute right-[10px] cursor-pointer",onClick:()=>g(!h),children:s.jsx(o.Z,{})})]}),s.jsx("div",{className:"relative flex justify-center items-center",children:s.jsx("input",{type:"password",name:"cnfmPassword",placeholder:"Confirm new password ",className:"log_input w-full mt-2 custom-input",onChange:e=>p(e.target.value),minLength:8,required:!0})}),f&&s.jsx("p",{className:"text-[red] mt-2 px-2 text-[14px] lg:text-[13px] font-normal bg-[#f0e3e3] py-1    rounded-[4px]",children:f}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"submit",disabled:w,className:"w-full bg-[#1f2432] font-medium text-white p-2 rounded-lg  hover:bg-white hover:border hover:border-gray-300 h-[50px] log-btn",children:w?"Loading..":"Change password"})})]})})}),s.jsx(c.Z,{})]})})})})})}},9712:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(5344),a=r(9410);r(3729);let n=()=>s.jsx("div",{className:"block lg:w-[50%] px-[10px] lg:px-0",children:s.jsx(a.default,{src:"/dealer/dealer_login.svg",alt:"img",height:500,width:600,className:"mx-auto"})})},6531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(5344);r(3729);let a=()=>s.jsx(s.Fragment,{children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})},1264:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,gy:()=>n,m2:()=>o,o4:()=>a,yW:()=>i});let s=(0,r(8034).oM)({name:"auth",initialState:{token:null,ad_details:null},reducers:{setToken:(e,t)=>{e.token=t.payload},removeToken:(e,t)=>{e.token=null},adDetails:(e,t)=>{e.ad_details=t.payload},rem_AdDetails:(e,t)=>{e.ad_details=null}}}),{setToken:a,removeToken:n,adDetails:o,rem_AdDetails:i}=s.actions,l=s.reducer},9037:(e,t,r)=>{"use strict";r.d(t,{Ly:()=>o,Yq:()=>i,ZP:()=>l,pj:()=>a,ts:()=>n});let s=(0,r(8034).oM)({name:"dealer",initialState:{token:null,dealerDetails:null},reducers:{setDealerToken:(e,t)=>{e.token=t.payload,console.log("State after setDealerToken:",e)},removeDealerToken:(e,t)=>{e.token=null},dealerDetails:(e,t)=>{e.dealerDetails=t.payload},rem_DealerDetails:(e,t)=>{e.dealerDetails=null}}}),{setDealerToken:a,removeDealerToken:n,dealerDetails:o,rem_DealerDetails:i}=s.actions,l=s.reducer},2498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>w});var s=r(5344),a=r(6013),n=r(9180),o=r(7836),i=r(8034),l=r(692),d=r(4722),c=r(1264),u=r(9037);let p=(0,o.UY)({auth:c.ZP,dealer:u.ZP}),x={key:"root",storage:d.Z},m=(0,l.OJ)(x,p),h=(0,i.xC)({reducer:m}),g=(0,l.p5)(h);function w({children:e}){return s.jsx(a.zt,{store:h,children:s.jsx(n.r,{loading:null,persistor:g,children:e})})}},1550:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/app/dealer/reset-password/[slug]/page.js`),{__esModule:a,$$typeof:n}=s,o=s.default},5460:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>u});var s=r(5036),a=r(1541),n=r.n(a);r(5023);var o=r(6843);let i=(0,o.createProxy)(String.raw`/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/redux/provider.js`),{__esModule:l,$$typeof:d}=i;i.default;let c=(0,o.createProxy)(String.raw`/home/aadil/controlf5_project/mern_nextjs/shri-trends/src/redux/provider.js#Providers`),u={title:"Shri Trends",description:"Generated by create next app"};function p({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,children:s.jsx(c,{children:e})})})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,81,42],()=>r(9360));module.exports=s})();